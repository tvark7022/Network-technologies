В клиенте вызывается метод SendMessageFromSocket и передаётся порт сервера
Создаём буфер
Получаем ip сервера
Создаём tcp сокет
Подключаемся к серверу
Просим пользователя ввести сообщение
Считываем его с консоли
Переводим сообщение из строки в массив байт, который мы потом отошлём на сервер
Ждём ответа от сервера
Сервер:
Определяем ip адрес сервера
Создаём сокет
Привязываем этот сокет к полученному раннее ip
Наш сокет начинает ждать подключения клиента
Возвращает сокет, через который будет пересылать и принимать данные от него
Печатаем ip клиента и принятое сообщение
Формируем ответ, в котором указываем длину принятого сообщения
Аналогично переводим сформированный ответ в массив байт и отсылаем его на клиент
соединение закрывается